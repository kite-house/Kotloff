
# ๐ค KotlOFF

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Python](https://img.shields.io/badge/Python-3.10+-green)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-lightgreen)
![Docker](https://img.shields.io/badge/Docker-24.0+-blue)

## ๐ ะ ะฟัะพะตะบัะต

**KotlOFF** - ััะพ ะฟะพะปะฝะพัะตะฝะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ั ะธะฝัะตะณัะฐัะธะตะน Telegram ะฑะพัะฐ, ัะฐะทัะฐะฑะพัะฐะฝะฝะพะต ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ. ะัะพะตะบั ะพะฑัะตะดะธะฝัะตั ัะพะฒัะตะผะตะฝะฝัะน backend ะฝะฐ FastAPI, ัะดะพะฑะฝัะน ะฒะตะฑ-ะธะฝัะตััะตะนั ะธ Telegram ะฑะพัะฐ ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน ะธ ะพะฑัะฐัะฝะพะน ัะฒัะทะธ.

### โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ **FastAPI backend** - ะฒััะพะบะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะธ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั API
- ๐จ **Web ะธะฝัะตััะตะนั** - ะธะฝััะธัะธะฒะฝะพ ะฟะพะฝััะฝัะน ะธะฝัะตััะตะนั ะฝะฐ HTML/CSS/JS
- ๐ฑ **Telegram ะธะฝัะตะณัะฐัะธั** - ะฐะฒัะพะผะฐัะธัะตัะบะธะต ัะฒะตะดะพะผะปะตะฝะธั ะธ ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- ๐ **Google Sheets ะธะฝัะตะณัะฐัะธั** - ัะบัะฟะพัั ะธ ะธะผะฟะพัั ะดะฐะฝะฝัั
- ๐ณ **Docker ะฟะพะดะดะตัะถะบะฐ** - ะปะตะณะบะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต ะฒ ะปัะฑะพะน ััะตะดะต

## ๐ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **FastAPI** - ัะพะฒัะตะผะตะฝะฝัะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั Python
- **SQLAlchemy** - ORM ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะฐะผะธ ะดะฐะฝะฝัั
- **PostgreSQL/MySQL** - ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฑะฐะทะฐะผะธ ะดะฐะฝะฝัั
- **Pydantic** - ะฒะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั

### Frontend
- **HTML5/CSS3** - ัะตะผะฐะฝัะธัะตัะบะฐั ะฒะตัััะบะฐ ะธ ััะธะปะธะทะฐัะธั
- **JavaScript** - ะธะฝัะตัะฐะบัะธะฒะฝะพััั ะฝะฐ ะบะปะธะตะฝััะบะพะน ััะพัะพะฝะต
- **Responsive Design** - ะฐะดะฐะฟัะฐัะธั ะฟะพะด ะฒัะต ััััะพะนััะฒะฐ

### Telegram
- **python-telegram-bot** - ะฑะธะฑะปะธะพัะตะบะฐ ะดะปั ัะพะทะดะฐะฝะธั Telegram ะฑะพัะพะฒ
- **FastAPI ะธะฝัะตะณัะฐัะธั** - ัะธะฝััะพะฝะธะทะฐัะธั ั ะพัะฝะพะฒะฝัะผ ะฟัะธะปะพะถะตะฝะธะตะผ

### DevOps
- **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
- **Docker Compose** - ะพัะบะตัััะฐัะธั ะบะพะฝัะตะนะฝะตัะพะฒ
- **Uvicorn** - ASGI ัะตัะฒะตั ะดะปั FastAPI

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker ะธ Docker Compose (ะฒะตััะธั 24.0+)
- Python 3.10+ (ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ)
- Git

### ๐ง ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน**

```bash
git clone https://github.com/kite-house/kotloff.git
cd kotloff
```

2. **ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั**

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะตะฒะพะน ะดะธัะตะบัะพัะธะธ ะฟัะพะตะบัะฐ:

```env
# ะะฐะทะฐ ะดะฐะฝะฝัั
DB_USER=your_db_user
DB_PASS=your_db_password
DB_HOST=db
DB_PORT=5432
DB_NAME="kotloff_db"

# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# ะัะธะปะพะถะตะฝะธะต
UVICORN_WORKERS=4
LOG_LEVEL=INFO
PORT=8000

# Google Sheets
GOOGLE_SHEET_ID=your_google_sheet_id

# ะะตะถะธะผ ัะฐะฑะพัั
MODE='DEV'
```

3. **ะะฐัััะพะนัะต Google Sheets ะธะฝัะตะณัะฐัะธั**

ะะพะผะตััะธัะต ัะฐะนะป ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ Google ะฒ ะดะธัะตะบัะพัะธั `telegram/`:

```bash
cp /path/to/your/service-account.json telegram/
```

ะคะฐะนะป ะดะพะปะถะตะฝ ะฝะฐะทัะฒะฐัััั `service-account.json` ะธ ัะพะดะตัะถะฐัั credentials ะดะปั ะดะพัััะฟะฐ ะบ Google Sheets API.

### ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

#### ะงะตัะตะท Docker (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ ะบะพะฝัะตะนะฝะตัะพะฒ
docker-compose up --build

# ะะฐะฟััะบ ะฒ ัะพะฝะพะฒะพะผ ัะตะถะธะผะต
docker-compose up -d --build

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
kotloff/
โโโ ๐ backend/
โ   โโโ ๐ src/                  
โ   โ   โโโ ๐ app/
โ   โ   |   โโโ ๐ api/
โ   โ   |   |   โโโ ๐ application_api.py               # API ัะฝะดะฟะพะธะฝัั ะดะปั ะทะฐัะฒะบะธ
โ   โ   |   โโโ ๐ db/
โ   โ   |   |   โโโ ๐ config.py                        # ะะพะฝัะธะณััะฐัะธั ะะ
โ   โ   |   |   โโโ ๐ crud.py                          # ะะฐะฟัะพัั ะบ ะะ
โ   โ   |   |   โโโ ๐ db.py                            # ะะฝะธัะธะปะธะทะฐัะธั ะะ
โ   โ   |   |   โโโ ๐ models.py                        # ะะพะดะตะปะธ ะฑะฐะทั ะดะฐะฝะฝัั
โ   โ   |   โโโ ๐ schemas/
โ   โ   |   |   โโโ ๐ application_schema.py            # ะกัะตะผะฐ ะดะฐะฝะฝัั ะดะปั ะทะฐัะฒะบะธ
โ   โ   |   โโโ ๐ exceptions.py                        # ะะฐััะพะผะฝัะต ะพัะธะฑะบะธ
โ   โ   |   โโโ ๐ main.py                              # ะะฐะฟััะบ Fast API 
โ   โ   โโโ ๐ test/                                    
โ   โ   |   โโโ ๐ conftest.py                          # ะะพะฝัะธะณััะฐัะธั ะดะปั ัะตััะพะฒ
โ   โ   |   โโโ๐ test_api.py                           # ะขะตััะธัะพะฒะฐะฝะธะต API ัะฝะดะฟะพะธะฝัะพะฒ
โ   |โโ ๐ dockerfile            # Dockerfile ะดะปั ัะฑะพัะบะธ
|   โโโ ๐ requirements.txt      # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ frontend/
โ   โโโ ๐ images/               # ะะทะพะฑัะฐะถะตะฝะธั
โ   โโโ ๐ DockerFile            # Dockerfile ะดะปั ัะฑะพัะบะธ
โ   โโโ ๐ style.css             # ะกัะธะปะธ
โ   โโโ ๐ script.js             # ะกะบัะธะฟัั
โ   โโโ ๐ postRequest           # ะะฐะฟัะพัั ะบ API
|   โโโ ๐ index.html            # HTML-ัะฐะฑะปะพะฝ
โโโ ๐ telegram/
โ   โโโ ๐ app.py                 # ะะพะณะธะบะฐ Telegram ะฑะพัะฐ
โ   โโโ ๐ service-account.json   # Google Sheets credentials
|   โโโ ๐ Dockerfile             # Dockerfile ะดะปั ัะฑะพัะบะธ
|   โโโ ๐ requirements.txt       # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ docker-compose.yml       # Docker Compose ะบะพะฝัะธะณััะฐัะธั
โโโ ๐ .env.example             # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โโโ ๐ README.md                # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ ะะพัััะฟ ะบ ัะตัะฒะธัะฐะผ

ะะพัะปะต ััะฟะตัะฝะพะณะพ ะทะฐะฟััะบะฐ ะฒั ัะผะพะถะตัะต ะฟะพะปััะธัั ะดะพัััะฟ ะบ:

- **Web ะธะฝัะตััะตะนั**: http://localhost
- **API ะดะพะบัะผะตะฝัะฐัะธั**: http://localhost:8000/docs (Swagger UI)
- **ะะปััะตัะฝะฐัะธะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั**: http://localhost:8000/redoc (ReDoc)
- **Telegram ะฑะพั**: @your_bot_username ะฒ Telegram

## ๐ก ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `DB_USER` | ะะผั ะฟะพะปัะทะพะฒะฐัะตะปั ะะ | - |
| `DB_PASS` | ะะฐัะพะปั ะะ | - |
| `DB_HOST` | ะฅะพัั ะะ | db |
| `DB_PORT` | ะะพัั ะะ | 5432 |
| `DB_NAME` | ะะฐะทะฒะฐะฝะธะต ะะ | kotloff_db |
| `TELEGRAM_BOT_TOKEN` | ะขะพะบะตะฝ Telegram ะฑะพัะฐ | - |
| `TELEGRAM_CHAT_ID` | ID ัะฐัะฐ ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน | - |
| `UVICORN_WORKERS` | ะะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ | 4 |
| `LOG_LEVEL` | ะฃัะพะฒะตะฝั ะปะพะณะธัะพะฒะฐะฝะธั | INFO |
| `GOOGLE_SHEET_ID` | ID Google ัะฐะฑะปะธัั | - |
| `PORT` | ะะพัั ะฟัะธะปะพะถะตะฝะธั | 8000 |
| `MODE` | ะะตะถะธะผ ัะฐะฑะพัั (DEV/PROD) | DEV |

## ๐จ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะงะฐัััะต ะฟัะพะฑะปะตะผั ะธ ะธั ัะตัะตะฝะธะต

1. **ะัะธะฑะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ะะ**
   - ะัะพะฒะตัััะต, ััะพ ะฒัะต ะฟะตัะตะผะตะฝะฝัะต DB_* ะบะพััะตะบัะฝะพ ะทะฐะฟะพะปะฝะตะฝั
   - ะฃะฑะตะดะธัะตัั, ััะพ ะบะพะฝัะตะนะฝะตั ั ะะ ะทะฐะฟััะตะฝ

2. **Telegram ะฑะพั ะฝะต ะพัะฒะตัะฐะตั**
   - ะัะพะฒะตัััะต ะฟัะฐะฒะธะปัะฝะพััั TELEGRAM_BOT_TOKEN
   - ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะฐะบัะธะฒะธัะพะฒะฐะฝ ัะตัะตะท @BotFather

3. **Google Sheets ะฝะต ัะฐะฑะพัะฐะตั**
   - ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต ัะฐะนะปะฐ service-account.json
   - ะฃะฑะตะดะธัะตัั, ััะพ ั ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ ะตััั ะดะพัััะฟ ะบ ัะฐะฑะปะธัะต
